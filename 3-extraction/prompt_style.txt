=== STYLE INSTRUCTIONS ===

**Match the style** of the provided examples:
- Question numbering and formatting
- Math notation and display mode usage
- Choice formatting (tabular environment with @{}ll@{} alignment)
- Choice labels (A, B, C, D, etc.)
- No trailing punctuation after math mode. End textual sentences with punctuation but never a line ending like "$...\dfrac{3}{2}.$"
- Equations that are central to a question should be formatted using display mode e.g. \[ \lvert x-a\rvert + \lvert x-b\rvert = \lvert a-b\rvert \] is preferred 
  over $\lvert x-a\rvert + \lvert x-b\rvert = \lvert a-b\rvert$ for a question counting the solutions of said equation.

**WITHIN-QUESTION FORMATTING:**

**Question structure:**
- Start with: `% ===== QUESTION [N] =====`
- Include: `% Answer: [index] (Letter: [A/B/C/...])`
- Use: `\item` to begin the question content
- End with: `% ===== END QUESTION [N] =====`

**Choice formatting:**
- **Spacing flexibility:** Values like `\\[npt]` indicate vertical spacing where `n` is a number you choose (e.g., 6, 9, 12) based on visual balance and the provided examples. These are not rigid requirements.
- End the final line of the question text with a line break: `\\[npt]`
- Then start the choices in a tabular:
  ```
  \begin{tabular}{@{}ll@{}}
  \textbf{A} & Option A \\[npt]
  \textbf{B} & Option B \\[npt]
  \textbf{C} & Option C \\[npt]
  \textbf{D} & Option D
  \end{tabular}
  ```
- Use `\\[npt]` between individual options (but not after the last one)
- After the last choice, simply end the `tabular` with no additional spacing

**CRITICAL - Long answer choices**: If an answer choice is too long (>80 characters), BREAK IT ACROSS MULTIPLE ROWS using continuation lines. This is especially common with quantifier-heavy logic statements:
```
\begin{tabular}{@{}ll@{}}
\textbf{A} & For every positive integer $n$ there exists a positive integer $k$ \\
           & such that for every positive integer $m$, the number $n(m+k)$ is \\
           & \textbf{not} a square \\[npt]
\textbf{B} & There exists a positive integer $n$ such that for every positive \\
           & integer $k$ and every positive integer $m$, the number $n(m+k)$ \\
           & is \textbf{not} a square \\[npt]
\textbf{C} & Short option that fits on one line
\end{tabular}
```
Key rules for multi-line choices:
- Break at natural phrase boundaries (after "such that", "for every", "there exists", conjunctions)
- Aim for lines of roughly 60-70 characters max
- Continuation lines use `&` only (no letter label)
- Only add `\\[npt]` after the LAST line of each choice
- Use plain `\\` (no spacing) between lines of the SAME choice

**Special pattern formatting:**

**Roman numeral statements** (I, II, III) should be formatted as an array environment:
```
\[
\begin{array}{@{}l l@{}}
\textbf{I:} & \text{statement text} \\[npt]
\textbf{II:} & \text{statement text}
\end{array}
\]
```

**CRITICAL - Long text in arrays**: If a statement is too long (>80 characters), BREAK IT ACROSS MULTIPLE ROWS rather than using a single `\text{}` command:
```
\[
\begin{array}{@{}l l@{}}
\textbf{III:} & \text{Therefore, for every positive integer $n$, the value $n^2+n+41$} \\[npt]
& \text{cannot be written as a product of two integers greater than $1$}
\end{array}
\]
```
NEVER put very long sentences in a single `\text{}` as they will overflow the page. Break at natural phrase boundaries.

**Formal statements or definitions** (especially those serving as the target of a negation question) should be formatted using a centered array environment:
```
\[
\begin{array}{c}
\text{for all $\varepsilon>0$ there exists $\delta>0$ such that for all $x\in\mathbb{R}$,} \\[npt]
\text{if $|x-x_0|<\delta$ then $|f(x)-f(x_0)|<\varepsilon$}
\end{array}
\]
```

**Display mode for key equations/definitions**:
- Equations central to the question should use `\[ \]` display mode
- Function definitions in question text should use display mode: `\[f(x) = a^{\cos x} + a^{-\cos x}\]`
- Graph equations should use `\[ \]` or `\begin{align*}...\end{align*}` for multiple equations
- Statement references like $(\ast)$ should be center-aligned when defining them:
  ```
  \[\text{statement content here}\tag{$\ast$}\]
  ```
  or
  ```
  \[
  \begin{array}{c}
  \text{statement content}
  \end{array}
  \tag{$\ast$}
  \]
  ```
- Multi-line prompts with display math should use `\[...\]` notation
- Inline math should use `$...$` notation

**MATHEMATICAL LOGIC NOTATION** (CRITICAL - REPLACE ANY FORBIDDEN NOTATION IN INPUT)

**FORBIDDEN NOTATIONS - MUST BE REPLACED:**
- `\land` → Replace with text: "$P$ \textbf{and} $Q$" (bold the word "and")
- `\lor` → Replace with text: "$P$ \textbf{or} $Q$" (bold the word "or")
- `\lnot` → USE THIS! For logical negation, `$\lnot P$` is PREFERRED and CORRECT. Do NOT replace this.
- `\Rightarrow` → Replace with text depending on context:
  - "$P \Rightarrow Q$" becomes "$P$ is \textbf{sufficient} for $Q$" or "$Q$ \textbf{if} $P$" or "\textbf{if} $P$ \textbf{then} $Q$"
  - NEVER use the word "implies" - it's forbidden. Use "sufficient", "if...then", or other variations.
- `\Leftarrow` → Replace with text: "$P$ is \textbf{necessary} for $Q$"
- `\Leftrightarrow` → Replace with text: "\textbf{if and only if}" (written out fully)
  - ✓ CORRECT: "\textbf{if and only if}" (this is what you want!)
  - ✗ FORBIDDEN: "iff" (the abbreviation - replace with full phrase)

**EVEN IF THE INPUT JSON CONTAINS THESE SYMBOLS, YOU MUST REPLACE THEM.**

**CLARIFICATION:** Only replace violations. If input already uses "\textbf{if and only if}" written out, that's perfect - keep it!

**Additional rules:**
- FORBIDDEN WORDS: 
  - "implies" - NEVER use this word. Replace with "if...then", "sufficient", etc.
  - "iff" (abbreviation) - NEVER use this abbreviation. Replace with "if and only if" written out fully
  - Note: "if and only if" written out in full is CORRECT and should be kept!

**BOLDING RULES (CRITICAL - APPLY EVERYWHERE):**
- Logic-technical terms MUST be \textbf{bolded} **EVERYWHERE they appear** (not just in choices/quotes):
  - "necessary", "sufficient", "if...then", "and" (in logic context), "or" (in logic context), "not" (in logic context)
- This includes **in the question text itself**: "Which is/are \textbf{sufficient} to guarantee..."
- This includes **in the answer choices**: "\textbf{necessary} but \textbf{not sufficient}"
- Exception: "and"/"or" are only bolded when used in a logical/propositional sense, not everyday language

**Examples:**
- ✓ "Which of these is/are \textbf{sufficient} to guarantee..." (question text)
- ✓ "individually \textbf{necessary} for $ABCD$..." (question text)  
- ✓ "\textbf{necessary} but \textbf{not sufficient}" (answer choice)
- ✗ "sufficient to guarantee" (not bolded - WRONG)

- Use textual variations (encouraged for testing comprehension): "if P then Q" = "P is sufficient for Q" = "Q if P" = "Q is necessary for P"

**OTHER MATHEMATICAL NOTATION**
- **Differentials**: ALWAYS use upright `\mathrm{d}` for differentials, not italic `d`:
  - ✓ CORRECT: `$\frac{\mathrm{d}y}{\mathrm{d}x}$` — derivative notation
  - ✗ WRONG: `$\frac{dy}{dx}$` — italic d looks like a variable
  - ✓ CORRECT: `$\int f(x) \,\mathrm{d}x$` — integral notation (note the `\,` thin space before `\mathrm{d}`)
  - ✗ WRONG: `$\int f(x) dx$` — missing upright d and spacing
  - This applies to ALL differential notation: `\mathrm{d}t`, `\mathrm{d}\theta`, `\mathrm{d}^2y`, etc.
- **Divisibility**: ALWAYS prefer "$n^3-n$ is divisible by $12$" over "$12$ divides $n^3-n$". The "divisible by" phrasing is clearer for students.
- Avoid interval notation like $[1,3]$ or $(\infty, infty)$. Preferred is always inequality notation such as $1 \le x \le 3$ or "for all real $x$" respectively.
- Avoid set notation. Instead of writing $x\in\{a,b\}$ write "$x=a$ or $x=b$"
- **Avoid niche terminology** without definition: Terms like "coincident", "parity" are too advanced. REPLACE with plain language:
  - **"coincident"** → REPLACE with plain description:
    - "the circles are not coincident" → "the circles do not have the same center and radius" or "the circles are distinct"
  - **"parity"** → REPLACE with plain language:
    - "$a$ and $b$ have the same parity" → "$a$ and $b$ are both even or both odd"
  - If you see these terms in input JSON, **you MUST replace them** even if they seem correct
